<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="marketMapper">

	<resultMap id="marketResult" type="Market">
		<result column="market_no" property="marketNo"/>
		<result column="market_title" property="marketTitle"/>
		<result column="market_writer" property="marketWriter"/>
		<result column="market_date" property="marketDate"/> 
		<result column="market_section" property="marketSection"/>
		<result column="price" property="price"/>
		<result column="productImg" property="productImg"/>
		<result column="p_like" property="productImg"/>
		<result column="count" property="count"/>
	</resultMap>


	<!-- 사용자 : 벼룩시장 글 총 갯수  -->
	<select id="marketListCount" resultType="_int">
		select 
		       count(*)
		  from market
		 where status = 'Y' 
	</select>

	<!-- 사용자 : 공지사항 리스트 조회 -->
	<select id="selectMarketList" resultMap="marketResult">
		select
			   market_no
		     , market_title
		     , market_writer
		     , to_char(market_date, 'YYYY-MM-DD') as market_date
             , market_section
             , price
             , p_img as productImg
             , p_like
             , count
		  from market
		 where status = 'Y'
		 order 
		    by market_no desc      
	</select>
</mapper>
