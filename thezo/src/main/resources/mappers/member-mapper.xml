<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="memberMapper">


	<resultMap id="memberResult" type="Member">
		<result column="mem_no" property="memNo"/>
		<result column="mem_name" property="memName"/>
		<result column="mem_id" property="memId"/>
		<result column="mem_Pwd" property="memPwd"/>
		<result column="gender" property="gender"/>
		<result column="phone" property="phone"/>
		<result column="email" property="email"/>
		<result column="birth" property="birth"/>
		<result column="zip_code" property="zipCode"/>
		<result column="address" property="address"/>
		<result column="enroll_date" property="enrollDate"/>
		<result column="gender" property="gender"/>
		<result column="resign_date" property="resignDate"/>
		<result column="department" property="department"/>
		<result column="job" property="job"/>
		<result column="rank" property="rank"/>
		<result column="extension_no" property="extensionNo"/>
		<result column="origin_name" property="originName"/>
		<result column="path" property="path"/> 
	</resultMap>


	<select id="loginMember" resultMap="memberResult">

		select
		    MEM_NO
			, MEM_ID
			, MEM_PWD
			, MEM_NAME
			, GENDER
			, PHONE
			, EMAIL
			, BIRTH
			, ZIP_CODE
			, ADDRESS
			, DEP_NO
			, DEPARTMENT
			, JOB
			, RANK
			, EXTENSION_NO
			, ENROLL_DATE
			, RESIGN_DATE
			, ORIGIN_NAME
			, PATH
			, MEM_VAC_DATE
			, MEM_USED_DATE
			, MEM_TOTAL_DATE
			, MESSAGE_FUNC
			, NOTICE_AUTH
		  from member
	 		where status IN ('Y', 'A')
		   	and mem_id = #{memId}  
	</select>

	<!--
		회원정보관리(사원등록,수정):관리자 -이성경
		1) 회원 수 조회
	-->
	<select id="selectListCount" resultType="_int">
		select 
		       count(*)
		  from member
		 where status = 'Y'      
	</select>

	<!-- 2) 리스트 조회 -->
	<select id="selectList" resultMap="memberResult">
		select 
			   mem_no
			 , mem_name
			 , mem_id
			 , department
			 , rank
		  from member
		 where status = 'Y'
		 order 
		    by mem_no desc 	   
	</select>

	<!-- 3) 회원 정보 상세 조회-->
	<select id="selectMember" resultMap="memberResult">
		select
		       mem_no
		     , mem_id
		     , mem_name
		     , gender
		     , phone
		     , email
		     , birth
		     , zip_code
		     , address
		     , enroll_date
		     , resign_date
		     , department
		     , job
		     , rank
		     , extension_no
		     , origin_name
		     , path
		  from member
		 where mem_no = #{memNo}       
	</select>
	


</mapper>
